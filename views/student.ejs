
<head>   
    <!-- external CSS link -->
    <link rel="stylesheet" href="/css/normalize.css">
	<link rel="stylesheet" href="/css/student.css"> 
    <link rel="stylesheet" href="/css/style.css">
    <meta name="viewport" content= "width=device-width, initial-scale=1.0">
</head>

<body>
<h1>Welcome to <%=student.cohort %>. You are logged in as:</h1>
<h1> <%=student.username %> </h1>

<div>
    <section class="section1">
        <div class="statsContainer container">
            <h2>Your Stats</h3>
            <h3>Total vocabulary: <%=student.totalWords %> </h3>
            <h3>Total number of Activities: <%=student.hasReviewed.length %></h3>
            <h3>Total of activity review sessions: <%=student.totalReviews %> </h3>
            <h3>Total total Challenging Words to review: <%=student.problemWords.length %> </h3>
        </div>
        <div class="reviewContainer"> 
            <form action="/student/reviewActivity" method="POST">
            
                <div class="container smallForm">
                    <label for="newActivity" class="secondaryLabel flex1">New Activities</label>
                    <select name="activity" id="activityName" required>
                    <% for(let i=0; i < activities.length; i++) {
                        if (!student.hasReviewed.includes(activities[i]._id)){%>   
                    <option value="<%=activities[i].description %>"><%= activities[i].description %></option>
                    <% }} %>
                    </select>
                    <button type="submit" id="selectActivity">Select</button>
                </div>
            </form>
            <form action="/student/reviewActivity" method="POST">
                <div class="container smallForm">
                    <label for="activity" class="secondaryLabel flex1">Previous activities</label>
                    <select name="activity" id="activityName" required>
                    <% for(let i=0; i < activities.length; i++) {   
                        if (student.hasReviewed.includes(activities[i]._id)){%>   
                        <option value="<%=activities[i].description %>"><%= activities[i].description %></option>
                    <% }} %>
                    </select>
                    <button type="submit" id="selectActivity">Select</button>
                </div>    
                </form>
            <form action="/student/reviewCustomActivity" method="POST">
                <div class="container smallForm">
                    <label for="customAvtivities" class="secondaryLabel flex1">Custom Activities</label>
                    <select name="activity" id="activityName" required>
                        <option value="Challenging Words">Challenging Words</option>
                      <% for(let i=0; i < student.individualExercises.length; i++) {%>   
                        <option value="<%=student.individualExercises[i].description %>"><%= student.individualExercises[i].description %></option>
                    <% } %> 
                    </select>
                    <button type="submit" id="selectActivity">Select</button>
                </div>
            </form>
            <form action="/student/reviewByCategory" method="POST">
                <div class="container smallForm">
                    <label for="categoryToReview" class="secondaryLabel flex1">Category Review</label>
                    <select name="categoryToReview" id="categoryToReview" required>
                        <option value="All">Review All</option>
                    <% for(let i=0; i < categories.length; i++) {%>
                        <option value="<%=categories[i].category %>"><%= categories[i].category %></option>  
                    <% } %>
                    </select>
                    <button type="submit" id="selectByTopic">Select</button>
                </div>
            </form>
        </div>    
    </section>  
</div>
<div>
    <h2>Create/Edit Custom Activities</h2>
    <div class="customAcrivityContainer">
        <div class="selectedImagecontainer vocabContainer">
            <% for(let i=0; i < selectedVocab.length; i++) {%> 
            <div class="vocabImage" id="A<%= 1 + i %>" style="background-image: url('<%= selectedVocab[i].imageUrl %>')">
                <audio src="<%= selectedVocab[i].audioTis %>" id="audioTis<%= 1 + i %>"></audio>  
            </div>  
            <% } %>
        </div>    
        <div>
            <label for="customActivities" class="secondaryLabel flex1"> Select Custom Activitiy to Edit</label>
            <select name="customActivities" id="activityToDelete" required>
                <option value="No Activity Selected">No Activity Selected</option>
                <% for(let i=0; i < student.individualExercises.length; i++) {%>   
                    <option value="<%=student.individualExercises[i].description %>"><%= student.individualExercises[i].description %></option>
                <% } %> 
            </select>
            <button type="button" id="selectActivity">Select</button>
            <button type="button" id="deleteCustomActivity">Delete Selected Activity</button>

        </div>
        <div>
            <label for="activity" class="primaryLabel">Activity Description</label>
            <input type="text" id="activity" name="description" placeholder="Name Your Activity"
            required>        
            <button type="button" id="newActivity"> Create New Activity</button>
        </div>
    </div>    
</div>    
</div>
<div class="navButtons">
    <% if (student.adminLevel = 1){ %>
        <button onclick="window.location.href ='admin';" class="navButton">Class Admin</button> 
   <% }
    if (student.adminLevel = 2){ %>
         <button onclick="window.location.href ='admin/schoolAdmin';" class="navButton">School Admin</button>  
    <% } %>
    <button onclick="window.location.href ='/logout';" class="navButton">Logout</button> 
       
    

</div>
    
<script type="text/javascript" src="/js/student.js"></script>
</body>